<div class="section">
  <div class="row">
    <label for="prompt">Your prompt</label>
  </div>

  <div class="row help">
    Describe the type of data you would like to store in a database.
  </div>

  <div class="row">
    <input id="prompt" class="prompt" #prompt type="text" autofocus (keyup.enter)="send(prompt.value)" required
      [value]="database.tables.length ? '': 'A customer database for an online retail store that tracks customers, orders and product inventory'"
      [placeholder]="database.tables.length ? 'Try describing a change to an existing table' : 'Try: A table that tracks high scores for an online game'">
    <button type="submit" class="button" [disabled]="waiting" (click)="send(prompt.value)">Send</button>
  </div>
</div>

<!-- ---------------------------------------------------------------------- -->

<app-db-schema></app-db-schema>

<!-- ---------------------------------------------------------------------- -->

@if(gemini.lastResponse && gemini.lastResponse.type != "none") {
<div class="section">
  <div class="row">
    <div class="label">Model response</div>
  </div>

  <div class="row">
    <code class="last-response-type" [class]="gemini.lastResponse.type">
        @switch (gemini.lastResponse.type) {
          @case ("waiting") {Waiting for responseâ€¦}
          @case ("unknown") {Unknown response type}
          @case ("functionCalls") {Function Calls}
          @case ("invalidFunctionCalls") {Function Calls with one or more unknown functions}
          @case ("text") {Text response}
          @case ("error") {Error}
          @default { {{gemini.lastResponse.type}} }
        }
      </code>
  </div>
  <div class="row">
    <code class="last-response">{{gemini.lastResponse.response}}</code>
  </div>
</div>
}