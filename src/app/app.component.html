<h1>Angular CRUDy bot</h1>



<form (submit)="send()">
  <div class="section">
    <div class="row">
      <div class="help">Visit <a href="aistudio.google.com">Google AI Studio</a>, and click "Get API key".</div>
    </div>

    <div class="row">
      <label for="apiKey">API Key</label>
      <input placeholder="Gemini API key" class="api-key" #apiKey required size="40"
        value="">
    </div>
  </div>

  <div class="section">
    <div class="row">
      <label for="prompt">Your prompt</label>
    </div>

    <div class="row">
      <input class="prompt" #prompt type="text" autofocus (focus)="prompt.select()"
        placeholder="Describe data you would like to store in a database">
      <button type="submit" class="button" [disabled]="waiting" (click)="send()">
        @if (waiting) { Waiting for repsponse…} @else {Send}
      </button>
    </div>
  </div>

  <div class="section">
    <div class="row">
      <label for="prompt">Sample prompts to try</label>
    </div>

    @for (p of samplePrompts; track $index) {
    <div class="row">
      <input class="prompt" #prompt type="text" autofocus (focus)="prompt.select()" [value]="p">
      <button type="submit" class="button" [disabled]="waiting" (click)="send()">
        @if (waiting) { Waiting for repsponse…} @else {Send}
      </button>
    </div>
    }
  </div>

</form>

<div class="tables">
  @for (table of tables; track $index) {
  <table class="table">
    <caption><code class="table-name">{{table.tableName}}</code> table</caption>
    <thead>
      <tr>
        <th class="column-name">Column name</th>
        <th class="column-type">Column type</th>
      </tr>
    </thead>
    <tbody>
      @for (column of table.columns; track $index) {
      <tr>
        <td class="column-name code">{{column.columnName}}</td>
        <td class="column-type code">{{column.columnType}}</td>
      </tr>
      }
    </tbody>
  </table>
  <!-- <pre>{{table|json}}</pre> -->
  }
</div>


<app-div-console />